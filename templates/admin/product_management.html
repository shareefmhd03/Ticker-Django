{% extends 'admin/admin_base.html' %}
{% load static%}

{% block contend %}


<h3 class="text-center" style="color: rgb(70, 159, 241);">Product Managment</h3>
<div class="table-responsive">


  <input type="text" id="searchbox" style="width: 20rem;" placeholder="search product..." class="my-2"
    onkeyup="searchrecords()">



  <a href="{% url 'add_product'%}" class="float-right mr-3 mt-1"> <i class="material-icons">&#xE147;</i><span>Add new
      product</span></a>
  <table class="table align-items-center table-flush" id=table1>
    <thead class="thead-dark">
      <tr>
        <th style="color: white;" scope="col" class="sort" data-sort="name">Product ID</th>
        <th style="color: white;" scope="col" class="sort" data-sort="budget">Product name</th>
        <th style="color: white;" scope="col" class="sort" data-sort="status">Category</th>
        <th style="color: white;" scope="col">Stock Available</th>
        <th style="color: white;" scope="col" class="sort" data-sort="completion">Actions</th>
        <th style="color: white;" scope="col"></th>
      </tr>
    </thead>
    {% for product in product %}
    <tbody class="list">
      <tr>
        <th scope="row">
          <div class="media align-items-center">

            <div class="media-body">
              <span class="name mb-0 text-sm">{{product.id}}</span>
            </div>
          </div>
        </th>
        <td class="media-body">
          <span class="name mb-0 text-sm">{{product.product_name}}</span>
        </td>
        <td>
          <span class="badge badge-dot mr-4">

            <span class="status">{{product.category}}</span>
          </span>
        </td>
        <td>
          <div class="media-body">
            <span class="status"> {{product.stock}}</span>

          </div>
        </td>
        <td>
          <div class="">
            <!-- <a style="color: red;" onclick="return confirm ('Are you sure you want to delete?') ? window.location.href= '{% url 'del_product' product.id %}' : '' "class="delete" ><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i> </a> -->
            <a href="{% url 'del_product' product.id %}"
              onclick="return confirm('Are you sure you want to Remove?');">Remove</a>
            <a href="{% url 'edit_product' product.slug%}" class="edit"><i class="material-icons ml-5"
                title="Edit">&#xE254;</i></a>


          </div>
        </td>

      </tr>
    </tbody>
    {% endfor %}
  </table>
</div>
</div>

<div class="mr-5 mt-4  float-right">

</div>


<script type="text/javascript">

  function searchrecords() {
    var input, table, tr, td, filter, i, txtdata;
    input = document.getElementById('searchbox');
    filter = input.value.toUpperCase();
    table = document.getElementById('table1');
    tr = document.getElementsByTagName('tr');
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[0];
      if (td) {
        txtdata = td.innerText;
        if (txtdata.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        }
        else {
          tr[i].style.display = "none";
        }
      }
    }
  }

</script>

{% endblock %}